{"version":3,"sources":["components/navbar/navbar.component.js","components/driver/url.service.js","components/driver/driver.component.js","components/driver-details/driver-details.component.js","components/drivers/drivers.component.js","config/views.js","stores/driver-model.js","stores/store.js","stores/drivers-store.js","utils.js","drivers.service.js","components/app/app.component.js","index.js"],"names":["Nav","react_default","a","createElement","className","type","placeholder","defaultProfileImage","Driver","e","target","onerror","src","url","_this$props","this","props","store","_this$props$data","data","isIntersecting","id","setIntersecting","goTo","router","profile_image","name","company_name","phone","email","backgroundImage","indexOf","replace","es","onChange","rootMargin","onClick","views","driverDetails","onError","onImageError","alt","xlinkHref","Component","inject","observer","DriverDetails","params","driverArr","app","drivers","filter","driver","length","dist","view","home","error","message","loaded","Fragment","driver_component","Drivers","map","Object","assign","key","console","log","process","Route","path","concat","component","drivers_component","driver_details_component","DriverModel","_this","classCallCheck","action","extendObservable","DriversStore","loadDrivers","i","random","uuid","Math","toString","push","fetch","then","response","json","forEach","createDriverModel","catch","RouterStore","startRouter","App","index_module","ReactDOM","render","app_component_App","document","getElementById"],"mappings":"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","file":"static/js/main.e6f2699b.chunk.js","sourcesContent":["import React from 'react';\r\nimport './navbar.style.scss'\r\n\r\nexport default function Nav() {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"title\">Contact List</div>\r\n      <div className=\"search\">\r\n        <input type=\"text\" placeholder=\"Search\"></input>\r\n      </div>\r\n    </div>\r\n  )\r\n}","const defaultProfileImage = 'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png';\r\n\r\nexport function secureUrl(url) {\r\n    if (!url) {\r\n        return defaultProfileImage;\r\n    }\r\n    if (url.indexOf('https') < 0) {\r\n        url = url.replace('http', 'https');\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function getDefaultImg() {\r\n    return defaultProfileImage\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport 'intersection-observer'; // optional polyfill\r\nimport Observer from '@researchgate/react-intersection-observer';\r\nimport { inject, observer } from 'mobx-react';\r\nimport views from '../../config/views';\r\nimport {secureUrl, getDefaultImg} from './url.service';\r\n\r\nimport './driver.style.scss';\r\n\r\n\r\nclass Driver extends Component {\r\n    onImageError(e) {\r\n        e.target.onerror = null;\r\n        e.target.src = getDefaultImg();\r\n    }\r\n\r\n    render() {\r\n        const { store, data = {}, isIntersecting, id, setIntersecting } = this.props;\r\n        const { router: { goTo } } = store;\r\n        const { profile_image, name, company_name, phone, email } = data;\r\n        const backgroundImage = secureUrl(profile_image);\r\n\r\n        return (\r\n            <div className=\"driver\">\r\n                <Observer onChange={(e) => e.isIntersecting && setIntersecting()} rootMargin=\"0% 0% 25%\">\r\n                    <div\r\n                        onClick={() => goTo(views.driverDetails, { id: id }, store)}>\r\n                        {isIntersecting && (\r\n                            <div className=\"image\">\r\n                                <img src={backgroundImage} onError={this.onImageError} className=\"img-fluid\"\r\n                                     alt=\"Driver Iamge\"></img>\r\n                            </div>\r\n                        )}\r\n                        <div className=\"driverType\">\r\n                            <svg>\r\n                                <use xlinkHref=\"#professional\" />\r\n                            </svg>\r\n                        </div>\r\n                        <div className=\"name\">{name}</div>\r\n                        <div className=\"rank\">{company_name}</div>\r\n                        <div className=\"more\">\r\n                            {phone && <div className=\"phone\">Phone Number: {phone}</div>}\r\n                            {email && <div className=\"email\">Email: {email}</div>}\r\n                        </div>\r\n                    </div>\r\n                </Observer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDriver.propTypes = {\r\n    store: PropTypes.object.isRequired,\r\n    data: PropTypes.object,\r\n    isIntersecting: PropTypes.bool.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n    setIntersecting: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default inject('store')(observer(Driver));\r\n","import React, { Component } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'mobx-router';\r\nimport Driver from '../driver/driver.component';\r\nimport views from '../../config/views';\r\nimport './driver-details.style.scss';\r\n\r\nclass DriverDetails extends Component {\r\n    render() {\r\n        const { store } = this.props;\r\n        const { router: { params } } = store;\r\n\r\n        const driverArr = store.app.drivers.filter(driver => driver.id === params.id);\r\n        if (!driverArr.length) {\r\n            return <div>\r\n                <Link view={views.home} store={store}> Go to Home Page</Link>\r\n                <div>Error 404 Not Found</div>\r\n            </div>;\r\n        }\r\n        const driver = driverArr[0];\r\n\r\n        return (\r\n            <div className=\"driver-details\">\r\n                {store.app.error && <div className=\"error\">Error: {store.app.error.message}</div>}\r\n                {store.app.loaded && !store.app.error && (\r\n                    <React.Fragment>\r\n                        <Link view={views.home} store={store}> Go to Home Page</Link>\r\n                        <Driver {...driver} />\r\n                    </React.Fragment>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nDriverDetails.propTypes = {\r\n    store: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default inject('store')(observer(DriverDetails));\r\n","import React, { Component } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport PropTypes from 'prop-types';\r\nimport Driver from '../driver/driver.component';\r\n\r\nimport './drivers.style.scss';\r\n\r\nclass Drivers extends Component {\r\n    render() {\r\n        const { store } = this.props;\r\n\r\n        return (\r\n            <div className=\"drivers\">\r\n                <div className=\"contact-list\">\r\n                    {!store.app.loaded && <div className=\"loader\">Loading...</div>}\r\n                    {store.app.error && <div className=\"error\">Error: {store.app.error.message}</div>}\r\n                    {store.app.loaded && !store.app.error && (\r\n                        <div className=\"drivers-container\">\r\n                            {store.app.drivers.length ? store.app.drivers.map(driver =>\r\n                                <Driver key={driver.id} {...driver} />\r\n                            ) : 'No Available Drivers Found :-('}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDrivers.propTypes = {\r\n    store: PropTypes.object.isRequired\r\n};\r\n\r\nexport default inject('store')(observer(Drivers));\r\n","import React from 'react';\r\n//models\r\nimport { Route } from 'mobx-router';\r\n//components\r\nimport DriverDetails from '../components/driver-details/driver-details.component';\r\nimport Drivers from '../components/drivers/drivers.component.js'\r\n\r\nconst PUBLIC_URL = process.env.PUBLIC_URL;\r\nconsole.log('PUBLIC_URL: ', PUBLIC_URL);\r\n\r\nconst views = {\r\n    home: new Route({\r\n        path: `${process.env.PUBLIC_URL}/`,\r\n        component: <Drivers />\r\n    }),\r\n    driverDetails: new Route({\r\n        path: `${process.env.PUBLIC_URL}/driver/:id`,\r\n        component: <DriverDetails />\r\n    })\r\n};\r\n\r\nexport default views;\r\n","import { action, extendObservable } from 'mobx';\r\n\r\nclass DriverModel {\r\n    constructor(store, data, id) {\r\n        //this.drivers = store;\r\n        this.data = data;\r\n        this.id = id;\r\n        extendObservable(this, {\r\n            isIntersecting: false,\r\n        });\r\n    }\r\n\r\n    setIntersecting = action(() => {\r\n        this.isIntersecting = true;\r\n    });\r\n}\r\n\r\nexport default DriverModel;\r\n","import {RouterStore} from 'mobx-router';\r\nimport DriversStore from './drivers-store';\r\n\r\nconst store = {\r\n    app: new DriversStore(),\r\n    router: new RouterStore()\r\n};\r\n\r\nexport default store;\r\n","import { extendObservable } from 'mobx';\r\nimport { getDrivers } from '../drivers.service';\r\nimport DriverModel from './driver-model';\r\nimport { uuid } from '../utils';\r\n\r\nclass DriversStore {\r\n    constructor() {\r\n        extendObservable(this, {\r\n            drivers: [],\r\n            loaded: false,\r\n            error: '',\r\n        });\r\n\r\n        this.loadDrivers();\r\n    }\r\n\r\n    createDriverModel(data) {\r\n        const driver = new DriverModel(this, data, uuid());\r\n        this.drivers.push(driver);\r\n    }\r\n\r\n    loadDrivers() {\r\n        getDrivers()\r\n            .then(drivers => {\r\n                drivers.forEach(driver => this.createDriverModel(driver));\r\n                this.loaded = true;\r\n            })\r\n            .catch(error => {\r\n                this.loaded = true;\r\n                this.error = error;\r\n            });\r\n    }\r\n}\r\n\r\nexport default DriversStore;\r\n","export function\tuuid() {\r\n    /*jshint bitwise:false */\r\n    var i, random;\r\n    var uuid = '';\r\n\r\n    for (i = 0; i < 32; i++) {\r\n        random = Math.random() * 16 | 0;\r\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\r\n            uuid += '-';\r\n        }\r\n        uuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random))\r\n            .toString(16);\r\n    }\r\n\r\n    return uuid;\r\n}\r\n","export function getDrivers() {\r\n    return fetch('https://candidate-test.herokuapp.com/contacts')\r\n        .then(response => response.json())\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Provider } from 'mobx-react';\r\nimport { MobxRouter, startRouter } from 'mobx-router';\r\nimport Nav from '../navbar/navbar.component';\r\n\r\n//stores\r\nimport views from '../../config/views';\r\nimport store from '../../stores/store';\r\n\r\nstartRouter(views, store);\r\n\r\nexport default class App extends Component {\r\n    render() {\r\n        return (\r\n            <Provider store={store}>\r\n                <div>\r\n                    <Nav />\r\n                    <MobxRouter />\r\n                </div>\r\n            </Provider>\r\n        )\r\n    }\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport './style.scss';\r\n\r\nimport App from './components/app/app.component';\r\n\r\nReactDOM.render(\r\n    <App />, document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}